<!DOCTYPE html>
<html lang="ar" dir="rtl" class="light-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø§ÙƒÙŠ Ù‚Ø±Ø¹Ø© ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2026 - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù†Ø¸ÙŠÙ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ) */
        :root {
            --bg-color: #e6eef7; 
            --container-bg: #ffffff;
            --text-color: #333;
            --header-color: #004d98;
            --accent-color: #f9c70b;
            --group-item-bg: #f7f9fc;
            --group-border: #004d98;
            --team-display-bg: #ffffff;
            --button-bg: #004d98;
            --button-text: #ffffff;
        }

        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        .dark-mode {
            --bg-color: #1a1a2e;
            --container-bg: #22253b;
            --text-color: #e0e0e0;
            --header-color: #f9c70b;
            --accent-color: #d63384;
            --group-item-bg: #2c314a;
            --group-border: #f9c70b;
            --team-display-bg: #373b54;
            --button-bg: #d63384;
            --button-text: #ffffff;
        }
        
        body { 
            font-family: 'Cairo', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            text-align: right; 
            padding: 20px; 
            direction: rtl; 
            transition: background-color 0.4s, color 0.4s;
        }
        .container { 
            max-width: 1100px; 
            margin: 0 auto; 
            background-color: var(--container-bg); 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); 
            border-top: 5px solid var(--accent-color);
        }
        h1 { 
            color: var(--header-color); 
            border-bottom: 3px solid var(--accent-color); 
            padding-bottom: 12px; 
            margin-bottom: 25px; 
            font-size: 2.2em; 
            text-align: center;
        }
        .controls { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            gap: 20px; 
            margin-bottom: 30px; 
            flex-wrap: wrap;
        }
        select, button {
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        #teamSelector {
            border: 2px solid var(--button-bg);
            background-color: var(--container-bg);
            color: var(--text-color);
            min-width: 250px;
            padding-right: 40px;
        }
        #generateBtn { 
            background-color: var(--button-bg); 
            color: var(--button-text); 
            border: none;
        }
        #generateBtn:hover { 
            background-color: var(--accent-color); 
            color: var(--header-color);
        }
        #modeToggle {
            background-color: var(--accent-color);
            color: var(--header-color);
            border: none;
        }
        #modeToggle:hover {
            background-color: var(--header-color);
            color: var(--accent-color);
        }
        #results { 
            margin-top: 40px; 
            border-top: 1px dashed var(--text-color);
            padding-top: 30px;
        }
        .group-item { 
            background-color: var(--group-item-bg); 
            border-right: 6px solid var(--group-border); 
            padding: 12px 18px; 
            margin-bottom: 12px; 
            border-radius: 8px; 
            display: flex; 
            align-items: center; 
            justify-content: flex-start; 
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        .group-num { 
            font-size: 1.3em; 
            color: var(--accent-color); 
            font-weight: bold; 
            margin-left: 20px; 
            flex-shrink: 0; 
        }
        .group-teams { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 15px; 
        }
        .team-display {
            display: flex;
            align-items: center;
            background-color: var(--team-display-bg);
            padding: 6px 12px;
            border-radius: 20px; 
            border: 1px solid var(--text-color);
            font-weight: bold;
            color: var(--text-color);
        }
        .team-flag {
            width: 28px; 
            height: 20px;
            border: 1px solid #eee;
            border-radius: 3px;
            margin-right: 8px; 
            object-fit: cover; 
        }
        .counter { 
            font-size: 1.3em; 
            color: var(--header-color); 
            font-weight: bold; 
            margin-bottom: 25px; 
            text-align: center;
            background-color: var(--group-item-bg);
            padding: 15px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù…Ø­Ø§ÙƒÙŠ Ù‚Ø±Ø¹Ø© ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2026 ğŸŒ</h1>

        <div class="controls">
            <select id="teamSelector"></select>
            <button id="generateBtn" onclick="generateGroups()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</button>
            <button id="modeToggle" onclick="toggleTheme()">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ğŸŒ™</button>
        </div>

        <div id="results">
        </div>
    </div>

    <script>
        function getFlagUrl(code) {
            if (!code || code === 'N/A') return ''; 
            if (code === 'GB-ENG') return `https://flagcdn.com/w20/eng.png`;
            if (code === 'GB-SCT') return `https://flagcdn.com/w20/sct.png`;
            if (code === 'GB-WLS') return `https://flagcdn.com/w20/wls.png`;
            return `https://flagcdn.com/w20/${code.toLowerCase()}.png`;
        }
        
        // *** 1. ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ù†ØªØ®Ø¨Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ù…ÙØµØ­Ø­Ø© ***
        const ALL_TEAMS_DATA = [
            // Pot 1 (8 UEFA, 4 Non-UEFA)
            { name: 'Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ', conf: 'CONCACAF', pot: 1, code: 'MX' }, { name: 'Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©', conf: 'CONCACAF', pot: 1, code: 'US' }, 
            { name: 'ÙƒÙ†Ø¯Ø§', conf: 'CONCACAF', pot: 1, code: 'CA' }, { name: 'Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§', conf: 'UEFA', pot: 1, code: 'ES' }, 
            { name: 'Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†', conf: 'CONMEBOL', pot: 1, code: 'AR' }, { name: 'ÙØ±Ù†Ø³Ø§', conf: 'UEFA', pot: 1, code: 'FR' }, 
            { name: 'Ø¥Ù†Ø¬Ù„ØªØ±Ø§', conf: 'UEFA', pot: 1, code: 'GB-ENG' }, { name: 'Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„', conf: 'CONMEBOL', pot: 1, code: 'BR' }, 
            { name: 'Ø§Ù„Ø¨Ø±ØªØºØ§Ù„', conf: 'UEFA', pot: 1, code: 'PT' }, { name: 'Ù‡ÙˆÙ„Ù†Ø¯Ø§', conf: 'UEFA', pot: 1, code: 'NL' }, 
            { name: 'Ø¨Ù„Ø¬ÙŠÙƒØ§', conf: 'UEFA', pot: 1, code: 'BE' }, { name: 'Ø£Ù„Ù…Ø§Ù†ÙŠØ§', conf: 'UEFA', pot: 1, code: 'DE' },
            
            // Pot 2 (4 UEFA, 8 Non-UEFA)
            { name: 'ÙƒØ±ÙˆØ§ØªÙŠØ§', conf: 'UEFA', pot: 2, code: 'HR' }, { name: 'Ø§Ù„Ù…ØºØ±Ø¨', conf: 'CAF', pot: 2, code: 'MA' }, 
            { name: 'ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠØ§', conf: 'CONMEBOL', pot: 2, code: 'CO' }, { name: 'Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ', conf: 'CONMEBOL', pot: 2, code: 'UY' }, 
            { name: 'Ø§Ù„Ù†Ù…Ø³Ø§', conf: 'UEFA', pot: 2, code: 'AT' }, { name: 'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†', conf: 'AFC', pot: 2, code: 'JP' }, 
            { name: 'Ø³ÙˆÙŠØ³Ø±Ø§', conf: 'UEFA', pot: 2, code: 'CH' }, { name: 'ÙƒÙˆØ±ÙŠØ§ Ø¬', conf: 'AFC', pot: 2, code: 'KR' }, 
            { name: 'Ø§Ù„Ø¥ÙƒÙˆØ§Ø¯ÙˆØ±', conf: 'CONMEBOL', pot: 2, code: 'EC' }, { name: 'Ø¥ÙŠØ±Ø§Ù†', conf: 'AFC', pot: 2, code: 'IR' },
            { name: 'Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ', conf: 'UEFA', pot: 2, code: 'DK' }, { name: 'Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§', conf: 'AFC', pot: 2, code: 'AU' },
            
            // Pot 3 (3 UEFA, 9 Non-UEFA)
            { name: 'Ø§Ù„Ù†Ø±ÙˆÙŠØ¬', conf: 'UEFA', pot: 3, code: 'NO' }, { name: 'Ø¨Ù†Ù…Ø§', conf: 'CONCACAF', pot: 3, code: 'PA' }, 
            { name: 'Ù…ØµØ±', conf: 'CAF', pot: 3, code: 'EG' }, { name: 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±', conf: 'CAF', pot: 3, code: 'DZ' }, 
            { name: 'Ø¨Ø§Ø±Ø§ØºÙˆØ§ÙŠ', conf: 'CONMEBOL', pot: 3, code: 'PY' }, { name: 'Ø¥Ø³ÙƒØªÙ„Ù†Ø¯Ø§', conf: 'UEFA', pot: 3, code: 'GB-SCT' }, 
            { name: 'ØªØ±ÙƒÙŠØ§', conf: 'UEFA', pot: 3, code: 'TR' }, { name: 'Ø£ÙˆÙƒØ±Ø§Ù†ÙŠØ§', conf: 'UEFA', pot: 3, code: 'UA' }, 
            { name: 'Ø£ÙˆØ²Ø¨ÙƒØ³ØªØ§Ù†', conf: 'AFC', pot: 3, code: 'UZ' }, { name: 'Ù‚Ø·Ø±', conf: 'AFC', pot: 3, code: 'QA' }, 
            { name: 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', conf: 'AFC', pot: 3, code: 'SA' }, { name: 'Ø¬Ù†ÙˆØ¨ Ø¥ÙØ±ÙŠÙ‚ÙŠØ§', conf: 'CAF', pot: 3, code: 'ZA' },
            
            // Pot 4 (2 UEFA, 10 Non-UEFA)
            { name: 'Ø§Ù„Ø£Ø±Ø¯Ù†', conf: 'AFC', pot: 4, code: 'JO' }, { name: 'ÙƒØ§Ø¨Ùˆ ÙÙŠØ±Ø¯ÙŠ', conf: 'CAF', pot: 4, code: 'CV' }, 
            { name: 'ØºØ§Ù†Ø§', conf: 'CAF', pot: 4, code: 'GH' }, { name: 'ÙƒÙˆØ±Ø§Ø³Ø§Ùˆ', conf: 'CONCACAF', pot: 4, code: 'CW' }, 
            { name: 'Ù‡Ø§ÙŠØªÙŠ', conf: 'CONCACAF', pot: 4, code: 'HT' }, { name: 'Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯Ø§', conf: 'OFC', pot: 4, code: 'NZ' }, 
            { name: 'Ø¨ÙŠØ±Ùˆ', conf: 'CONMEBOL', pot: 4, code: 'PE' }, 
            { name: 'ØµØ±Ø¨ÙŠØ§', conf: 'UEFA', pot: 4, code: 'RS' }, 
            // Ù…Ù‚Ø§Ø¹Ø¯ Ø§Ù„Ù…Ù„Ø­Ù‚ Ø§Ù„Ø¹Ø§Ù… (N/A Ù„Ø¹Ø¯Ù… Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„Ù…)
            { name: 'Ø§Ù„Ù…ØªØ£Ù‡Ù„ Ù…Ù† Ø§Ù„Ù…Ù„Ø­Ù‚ 1', conf: 'AFC', pot: 4, code: 'N/A' }, 
            { name: 'Ø§Ù„Ù…ØªØ£Ù‡Ù„ Ù…Ù† Ø§Ù„Ù…Ù„Ø­Ù‚ 2', conf: 'CAF', pot: 4, code: 'N/A' },
            { name: 'Ø§Ù„Ù…ØªØ£Ù‡Ù„ Ù…Ù† Ø§Ù„Ù…Ù„Ø­Ù‚ 3', conf: 'CONCACAF', pot: 4, code: 'N/A' },
            { name: 'Ø§Ù„Ù…ØªØ£Ù‡Ù„ Ù…Ù† Ø§Ù„Ù…Ù„Ø­Ù‚ 4', conf: 'UEFA', pot: 4, code: 'N/A' } // Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØ© ÙÙŠ P4 Ù‡Ùˆ 2
        ];

        // *** 2. ÙˆØ¸ÙŠÙØ© Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± ***
        function populateSelector() {
            const selector = document.getElementById('teamSelector');
            selector.innerHTML = '<option value="" disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ®Ø¨ ...</option>';
            
            const pots = { 1: [], 2: [], 3: [], 4: [] };
            ALL_TEAMS_DATA.forEach(team => {
                pots[team.pot].push(team);
            });

            for (let i = 1; i <= 4; i++) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = `Ø§Ù„ØªØµÙ†ÙŠÙ ${i} (${pots[i].length} Ù…Ù†ØªØ®Ø¨)`;
                pots[i].forEach(team => {
                    const option = document.createElement('option');
                    option.value = team.name;
                    option.textContent = team.name;
                    selector.appendChild(option);
                });
                selector.appendChild(optgroup);
            }
        }
        window.onload = populateSelector;


        // *** 3. ÙˆØ¸ÙŠÙØ© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª (Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ù…ØµØ­Ø­) ***
        function generateGroups() {
            const selectedTeamName = document.getElementById('teamSelector').value;
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';
            
            if (!selectedTeamName) {
                resultsDiv.innerHTML = '<div class="counter" style="color: var(--accent-color);">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØªØ®Ø¨ Ø£ÙˆÙ„Ø§Ù‹!</div>';
                return;
            }

            const selectedTeam = ALL_TEAMS_DATA.find(t => t.name === selectedTeamName);
            const { pot: myPot, conf: myConf } = selectedTeam;
            let groupCounter = 0;
            const validGroups = [];

            const otherPots = [1, 2, 3, 4].filter(p => p !== myPot);
            
            // ØªØµÙÙŠØ© Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù…Ø¹ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø±ÙŠ
            const P_loop = otherPots.map(p => {
                let availableTeams = ALL_TEAMS_DATA.filter(t => t.pot === p && t.name !== selectedTeamName);
                
                // ØªØ·Ø¨ÙŠÙ‚ Ù‚ÙŠØ¯ Ø§Ù„Ù‚Ø§Ø±Ø© (ÙŠÙØ³ØªØ«Ù†Ù‰ Ù…Ù†Ù‡ UEFA)
                if (myConf !== 'UEFA') {
                    availableTeams = availableTeams.filter(t => t.conf !== myConf);
                }
                return availableTeams;
            });


            // Ø§Ù„Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© Ù„Ø¯Ù…Ø¬ Ø§Ù„ÙØ±Ù‚
            for (const teamA of P_loop[0]) {
                for (const teamB of P_loop[1]) {
                    for (const teamC of P_loop[2]) {

                        // **Ø´Ø±Ø· Ø£ÙˆØ±ÙˆØ¨Ø§ (UEFA Constraint):**
                        let uefaCount = (myConf === 'UEFA' ? 1 : 0);
                        if (teamA.conf === 'UEFA') uefaCount++;
                        if (teamB.conf === 'UEFA') uefaCount++;
                        if (teamC.conf === 'UEFA') uefaCount++;

                        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØ©
                        let isValidUEFA = false;
                        if (myConf === 'UEFA') {
                             if (uefaCount >= 2 && uefaCount <= 3) isValidUEFA = true;
                        } else {
                             if (uefaCount >= 1 && uefaCount <= 2) isValidUEFA = true;
                        }
                        
                        if (isValidUEFA) {
                            groupCounter++;
                            validGroups.push({
                                num: groupCounter,
                                teams: [selectedTeam, teamA, teamB, teamC]
                            });
                        }
                    }
                }
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            const counterElement = document.createElement('div');
            counterElement.className = 'counter';
            // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù„Ù…Ù†ØªØ®Ø¨ Ù…ØµØ± P3, CAF Ù‡ÙŠ 928 Ù…Ø¬Ù…ÙˆØ¹Ø©
            counterElement.textContent = `ØªÙ… ØªÙˆÙ„ÙŠØ¯ ${groupCounter} Ù…Ø¬Ù…ÙˆØ¹Ø© ØµØ§Ù„Ø­Ø© Ù„Ù„Ù…Ù†ØªØ®Ø¨ ${selectedTeamName}.`;
            resultsDiv.appendChild(counterElement);

            validGroups.forEach(group => {
                const groupItem = document.createElement('div');
                groupItem.className = 'group-item';
                
                const groupNum = document.createElement('span');
                groupNum.className = 'group-num';
                groupNum.textContent = `#${group.num}`;
                groupItem.appendChild(groupNum);
                
                const teamsDiv = document.createElement('div');
                teamsDiv.className = 'group-teams';
                
                const sortedTeams = [group.teams[0], group.teams[1], group.teams[2], group.teams[3]].sort((a, b) => a.pot - b.pot);

                sortedTeams.forEach(team => {
                    const teamDisplay = document.createElement('div');
                    teamDisplay.className = 'team-display';

                    if (team.code && team.code !== 'N/A') { 
                        const flagImg = document.createElement('img');
                        flagImg.className = 'team-flag';
                        flagImg.src = getFlagUrl(team.code);
                        flagImg.alt = `Ø¹Ù„Ù… ${team.name}`;
                        teamDisplay.appendChild(flagImg);
                    }
                    
                    const teamNameSpan = document.createElement('span');
                    let displayName = team.name;
                    
                    if (team.code === 'N/A') {
                        displayName = `${team.name} (${team.conf})`; 
                    }
                    teamNameSpan.textContent = `${displayName} (P${team.pot})`; 
                    teamDisplay.appendChild(teamNameSpan);
                    
                    teamsDiv.appendChild(teamDisplay);
                });
                
                groupItem.appendChild(teamsDiv);
                resultsDiv.appendChild(groupItem);
            });
        }

        // *** 4. ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ÙˆØ§Ù„Ù†Ù‡Ø§Ø±ÙŠ ***
        function toggleTheme() {
            const body = document.body.parentElement;
            const toggleButton = document.getElementById('modeToggle');
            
            if (body.classList.contains('dark-mode')) {
                body.classList.remove('dark-mode');
                body.classList.add('light-mode');
                toggleButton.textContent = 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ ğŸŒ™';
            } else {
                body.classList.remove('light-mode');
                body.classList.add('dark-mode');
                toggleButton.textContent = 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ â˜€ï¸';
            }
        }
    </script>
</body>
</html>
